# 星火自动化测试平台 - 使用说明

## 快速开始

### 1. 启动应用

**Windows用户：**
```bash
双击运行 start_app.bat 文件
# 或者双击运行 start_app.py 文件
```

**Linux/Mac用户：**
```bash
chmod +x start.sh
./start.sh
# 或者运行
python start_app.py
```

**手动启动：**
```bash
# 安装依赖
pip install -r requirements.txt

# 启动服务器
python app.py
```

### 2. 数据库配置

**SQLite模式（默认）：**
- 数据库文件：`automation.db`
- 无需额外配置，开箱即用

**MySQL模式：**
设置环境变量：
```bash
export DATABASE_TYPE=mysql
export MYSQL_HOST=your_mysql_host
export MYSQL_USER=your_username
export MYSQL_PASSWORD=your_password
export MYSQL_DATABASE=automation
```

### 2. 访问平台

启动成功后，在浏览器中访问：
```
http://localhost:5000/static/index.html
```

## 功能使用指南

### 版本管理

#### 添加项目

1. 点击页面左上角的"添加项目"按钮
2. 在弹出的对话框中填写项目信息：
   - **游戏名称**（必填）：输入游戏的名称
   - **游戏地址**（必填）：输入游戏的访问地址，如 `https://game.example.com`
   - **分组**：可选，用于项目分类管理
   - **是否自动化**（必填）：选择"是"或"否"
   - **游戏版本号**：可选，记录当前游戏版本
   - **游戏图片**：可选，上传游戏的截图或图标

3. 点击"保存"按钮完成项目创建

#### 编辑项目

1. 在项目列表中找到要编辑的项目
2. 点击操作列中的编辑按钮（铅笔图标）
3. 修改项目信息
4. 点击"保存"按钮保存修改

#### 删除项目

1. 在项目列表中找到要删除的项目
2. 点击操作列中的删除按钮（垃圾桶图标）
3. 在确认对话框中点击"确定"

#### 查看历史记录

1. 在项目列表中找到目标项目
2. 点击"查看历史"按钮
3. 查看项目的历史变更记录（功能待完善）

### 图片上传功能

1. 在项目编辑对话框中，点击"上传游戏图片"按钮
2. 选择图片文件（支持PNG、JPG、JPEG、GIF格式）
3. 图片大小限制：最大2MB
4. 上传成功后会显示图片预览
5. 可以点击预览图片旁的删除按钮移除图片

## 快捷键

- `Ctrl + N`：快速打开添加项目对话框
- `Esc`：关闭当前打开的对话框

## 界面说明

### 主界面布局

- **顶部导航栏**：显示平台名称和用户信息
- **左侧导航栏**：功能模块导航
  - 游戏自动化测试平台
    - 版本管理：项目管理功能
    - 自动化管理：待开发功能
- **主内容区域**：显示当前选中的功能页面

### 项目列表字段说明

- **分组**：项目所属的分组
- **游戏名称**：游戏的名称，如果有上传图片会显示缩略图
- **游戏地址**：游戏的访问地址，点击可直接访问
- **是否自动化**：显示该项目是否启用自动化测试
- **版本号**：当前游戏的版本号
- **历史记录**：查看项目的变更历史
- **操作**：编辑和删除项目的操作按钮

## 注意事项

1. **数据存储**：项目数据保存在本地SQLite数据库中（`spark_test_platform.db`文件）
2. **图片存储**：上传的图片保存在`static/uploads/`目录中
3. **浏览器兼容性**：推荐使用Chrome 60+、Firefox 60+、Safari 12+、Edge 79+
4. **网络要求**：平台运行在本地，无需互联网连接

## 故障排除

### 无法访问页面

1. 确认Flask服务器是否正常启动
2. 检查控制台是否有错误信息
3. 确认端口5000没有被其他程序占用

### 图片上传失败

1. 检查图片格式是否支持（PNG、JPG、JPEG、GIF）
2. 确认图片大小不超过2MB
3. 检查`static/uploads/`目录是否存在且有写入权限

### 数据保存失败

1. 检查数据库文件`spark_test_platform.db`是否存在
2. 确认必填字段是否已填写
3. 检查控制台错误信息

### API测试

如果遇到问题，可以运行API测试脚本：
```bash
python test_api.py
```

## 技术支持

如果遇到其他问题，请检查：
1. Python版本是否为3.7或更高
2. 依赖包是否正确安装
3. 控制台错误日志信息

## 开发扩展

平台采用前后端分离架构，易于扩展：

- **后端扩展**：在`api/`目录下添加新的蓝图模块
- **前端扩展**：在`static/js/`目录下添加新的JavaScript模块
- **样式定制**：修改`static/css/styles.css`文件
- **数据库扩展**：在`config/database.py`中添加新的数据表 